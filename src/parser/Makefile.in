bison_files = jparser.yy 
lexer_files = jscanner.ll

# No need to modify below

all_files = $(bison_files) $(lexer_files)

bison_target = $(bison_files:.yy=.done)
lexer_target = $(lexer_files:.ll=.done)
all_targets = $(bison_target) $(lexer_target)

VPATH=../

LEX=flex
YACC=bison
YFLAGS=-Wall -d


all: $(bison_target) \
	$(lexer_target)

$(bison_target): %.done: @srcdir@/%.yy
	$(YACC) $(YFLAGS) -o @srcdir@/$(@:.done=.cc) $<
	touch $@

$(lexer_target): %.done: @srcdir@/%.ll @srcdir@/%.h
	$(LEX) -o @srcdir@/$(@:.done=.cc) $<
	touch $@

.PHONY: clean

clean:
	rm -f $(all_targets)

# Some default commands
distdir:
	cp $(all_files) $(distdir)

install: all
install-data:
install-exec:
installdirs:
uninstall:

install-dvi:
install-html:
install-info:
install-ps:
install-pdf:

check:
installcheck:

mostlyclean: clean
distclean: clean
	rm Makefile
	cd ../ && test -d parser && rmdir parser

maintainer-clean: clean

dvi:
html:
info:
ps:
pdf:

tags:
ctags:

